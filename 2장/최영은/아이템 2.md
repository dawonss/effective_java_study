## 2. ìƒì„±ìì— ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼
ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œì™€ ìƒì„±ìê°€ ê°€ì§€ëŠ” ë™ì¼í•œ ì œì•½ : ì„ íƒì  ë§¤ê°œ ë³€ìˆ˜ê°€ ë§ì„ ë•Œ ì ì ˆíˆ ëŒ€ì‘í•˜ê¸° ì–´ë µë‹¤ëŠ” ì 
### 1ï¸âƒ£ ì ì¸µì  ìƒì„±ì íŒ¨í„´
  * í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œ ë°›ëŠ” ìƒì„±ìë¶€í„° í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜+ì„ íƒ ë§¤ê°œë³€ìˆ˜ 1ê°œë¥¼ ì¶”ê°€ë¡œ ë°›ëŠ” ìƒì„±ì, í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜+ì„ íƒ ë§¤ê°œë³€ìˆ˜ 2ê°œë¥¼ ì¶”ê°€ë¡œ ë°›ëŠ” ìƒì„±ì ì´ëŸ°ì‹ìœ¼ë¡œ ìƒì„±ìë¥¼ ì ì°¨ ëŠ˜ë ¤ê°€ëŠ” ë°©ë²•
```java
// ì ì¸µì  ìƒì„±ì íŒ¨í„´ - í™•ì¥í•˜ê¸° ì–´ë µë‹¤!
public class NutritionFacts{
  private final int servingSize;
  private final int servings;
  private final int calories;
  private final int fat;
  private final int sodium;
  private final int carbohydrate;

  public NutritionFacts(int servingSize, int servings) {
    this(servingSize, servings, 0);
  }
  //...
  public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium) {
    this(servingSize, servings, calories, fat, sodium, 0);
  }
  public NutritionFacts(int servingSize, int servings, int calories, int fat, int sodium, int carbohydrate) {
    this.servingSize = servingSize;
    this.servings = servings;
    this.calories = calories;
    this.fat = fat;
    this.sodium = sodium;
    this.carbohydrate = carbohydrate;
  }
}
```
  * **ë‹¨ì **
    * ë§¤ê°œë³€ìˆ˜ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì½ê¸° ì–´ë ¤ì›€
    * ê° ê°’ì˜ ì˜ë¯¸ë¥¼ í—·ê°ˆë¦¼. ì˜ëª»ëœ ê°’ì„ ë„£ì–´ë„ íƒ€ì…ì´ ê°™ìœ¼ë©´ ì°¾ê¸°ê°€ ì–´ë ¤ì›€
    * ì›ì¹˜ ì•ŠëŠ” ê°’ê¹Œì§€ í¬í•¨í•˜ì—¬ ì„¤ì •í•´ì•¼í•¨
### 2ï¸âƒ£ ìë°” ë¹ˆì¦ˆ íŒ¨í„´
  * ë§¤ê°œ ë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¡œ ê°ì²´ë¥¼ ë§Œë“¤ê³  setter ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë§¤ê°œë³€ìˆ˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•
  * ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ì‰½ê³  ì½ê¸°ì— ìš©ì´í•¨
```java
// ìë°”ë¹ˆì¦ˆ íŒ¨í„´ - ì¼ê´€ì„±ì´ ê¹¨ì§€ê³ , ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤.
public class NutritionFacts{
  // ë§¤ê°œë³€ìˆ˜ë“¤ì€ (ê¸°ë³¸ê°’ì´ ìˆë‹¤ë©´) ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”ëœë‹¤.
  private final int servingSize  = -1;
  private final int servings     = -1;
  private final int calories     = 0;
  private final int fat          = 0;
  private final int sodium       = 0;
  private final int carbohydrate = 0;

  public NutritionFact() {}
  // ì„¸í„° ë©”ì„œë“œë“¤
  public void setServingSize(int val) { servingSize = val; }
  public void setServings(int val) { servings = val; }
  public void setCalories(int val) { calories = val; }
  public void setFat(int val) { fat = val; }
  public void setSodium(int val) { sodium = val; }
  public void setCarbohydrate(int val) { carbohydrate = val; }
}

// ì‚¬ìš© ì˜ˆì œ
public class Main{
  public static void main(String[] args){
    NutritionFacts cocaCola = new NutritionFacts();
    cocaCola.setServingSize(240);
    cocaCola.setServings(8);
    cocaCola.setCalories(100);
    cocaCola.setSodium(35);
  }
}
```
  * **ë‹¨ì **
      * í•˜ì§€ë§Œ ê°ì²´ í•˜ë‚˜ë¥¼ ë§Œë“¤ ë•Œ ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ê°œ í˜¸ì¶œí•´ì•¼ë¨
      * ê°ì²´ê°€ ì™„ì „íˆ ìƒì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ê°ì²´ì˜ ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì— ë†“ì´ê²Œ ë¨
      * í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ìœ¼ë©° ìŠ¤ë ˆë“œ ì•ˆì „ì„±ì„ ì–»ê¸° ìœ„í•´ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì¶”ê°€ ì‘ì—…ì„ ì§„í–‰í•´ì•¼ë¨
  > ğŸ¤”ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë‚´ê°€ ë§ì´ ì‚¬ìš©í–ˆë˜ íŒ¨í„´! <br>
  > ë³¸ë¬¸ ë‚´ìš©ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ setterë¥¼ ë§ì´ ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ ì½”ë“œê°€ ê¸¸ì–´ì§€ê³  ì„ íƒ ë§¤ê°œë³€ìˆ˜ ë³„ë¡œ ê°ê° ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ë²ˆê±°ë¡œì› ìŒ
### 3ï¸âƒ£ ë¹Œë” íŒ¨í„´
 * ì ì¸µì  ìƒì„±ì íŒ¨í„´ì˜ ì•ˆì „ì„±ê³¼ ìë°” ë¹ˆì¦ˆ íŒ¨í„´ì˜ ê°€ë…ì„±ì„ ê²¸ë¹„í•œ íŒ¨í„´
  * **ì‚¬ìš©ë²•**
    1) í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ ë§Œìœ¼ë¡œ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì—¬ ê°ì²´ë¥¼ ì–»ìŒ
    2) ë¹Œë”ê°€ ì œê³µí•˜ëŠ” setter ë©”ì„œë“œë“¤ë¡œ ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •
    3) ë§ˆì§€ë§‰ìœ¼ë¡œ build()ë¥¼ í˜¸ì¶œ
  * ë¹Œë”ì˜ setter ë©”ì„œë“œë“¤ì€ ìê¸° ìì‹ ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì´ë“¤ì„ ì—°ì‡„ì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ
      * í”Œë£¨ì–¸íŠ¸ API, ë©”ì„œë“œ ì—°ì‡„ë¼ê³  í•¨
```java
// ë¹Œë” íŒ¨í„´ - ì ì¸µì  ìƒì„±ì íŒ¨í„´ê³¼ ìë°”ë¹ˆì¦ˆ íŒ¨í„´ì˜ ì¥ì ë§Œ ì·¨í–ˆë‹¤.
public class NutritionFacts{
  private final int servingSize;
  private final int servings;
  private final int calories;
  private final int fat;
  private final int sodium;
  private final int carbohydrate;

  public static class Builder {
    // í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜
    private final int servingSize;
    private final int servings;
    // ì„ íƒ ë§¤ê°œë³€ìˆ˜ - ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤.
    private final int calories     = 0;
    private final int fat          = 0;
    private final int sodium       = 0;
    private final int carbohydrate = 0;

    public Builder(int servingSize, int servings) {
      this.servingSize = servingSize;
      this.servings = servings;
    }

    public Builder calories(int val) {
      calories = val;
      return this;
    }
    //...
    public Builder carbohydrate(int val) {
      carbohydrate = val;
      return this;
    }

    public NutritionFacts build() {
      return new NutritionFacts(this);
    }
  }
  
  private NutritionFacts(Builder builder){
    servingSize = builder.servingSize;
    servings = builder.servings;
    calories = builder.calories;
    fat = builder.fat;
    sodium = builder.sodium;
    carbohydrate = builder.carbohydrate;
  }
}

// ì‚¬ìš© ì˜ˆì œ
public class Main{
  public static void main(String[] args){
    NutritionFacts cocaCola = new NutritionFacts.Builder(240,8).calories(100).sodium(35).build();
  }
}
```
* ë¹Œë” íŒ¨í„´ì€ **ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì“°ê¸°ì— ì¢‹ë‹¤**.
```java
// 0. ìƒìœ„ í´ë˜ìŠ¤ Pizza - ë£¨íŠ¸ì— ë†“ì¸ ì¶”ìƒ í´ë˜ìŠ¤
public abstract class Pizza {
  public enum Topping { HAM, MUSHROOM, ONION, PEPPER, SAUSAGE }
  final Set<Topping> toppings;

  abstract static class Builder<T extends Builder<T>> {
    EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);
    public T addTopping(Topping topping) {
      toppings.add(Objects.requireNonNull(topping));
      return self();
    }

    abstract Pizza build();

    // í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì´ ë©”ì„œë“œë¥¼ ì¬ì •ì˜(overriding) í•˜ì—¬ "this"ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.
    protected abstract T self();
  }

  Pizza(Builder<?> builder){
    toppings = builder.toppings.clone(); // ì•„ì´í…œ 50 ì°¸ì¡°!
  }
}
```

```java
// 1. Pizzaì˜ ì²«ë²ˆì§¸ í•˜ìœ„ í´ë˜ìŠ¤ - ë‰´ìš• í”¼ì. sizeë¥¼ í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
public class NyPizza extends Pizza {
  public enum Size { SMALL, MEDIUM, LARGE }
  private final Size size;

  public static class Builder extends Pizza.Builder<Builder> {
    private final Size size;

    public Builder(Size size){
      this.size = Objects.requireNonNull(size);
    }

    @Override public NyPizza build() {
      return new NyPizza(this);
    }

    @Override protected Builder self() {
      return this;
    }
  }

  private NyPizza(Builder builder) {
    super(builder);
    size = builder.size;
  }
}

// 2. Pizzaì˜ ë‘ë²ˆì§¸ í•˜ìœ„ í´ë˜ìŠ¤ - ì¹¼ì´ˆë„¤ í”¼ì. sauceInsideë¥¼ ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ
public class Calzone extends Pizza {
  private final boolean sauceInside;

  public static class Builder extends Pizza.Builder<Builder> {
    private boolean sauceInside = false; //ì„ íƒ ë§¤ê°œë³€ìˆ˜ì´ë¯€ë¡œ finalì´ ì•„ë‹˜. ê¸°ë³¸ ê°’ì´ falseë¡œ ì£¼ì–´ì§!

    public Builder sauceInside() {
      sauceInside = true;
      return this;
    }

    @Override public Calzone build() {
      return new Calzone(this);
    }

    @Override protected Builder self() {
      return this;
    }
  }

  private Calzone(Builder builder) {
    super(builder);
    sauceInside = builder.sauceInside;
  }
}

// ì‚¬ìš© ì˜ˆì œ
public class Main{
  public static void main(String[] args){
    NyPizza pizza = new NyPizza.Builder(SMALL).addTopping(SAUSAGE).addTopping(ONION).build();
    Calzone calzone = new Calzone.Builder().addTopping(HAM).sauceInside().build();
  }
}
```
* ë¹Œë” íŒ¨í„´ì€ **ìƒë‹¹íˆ ìœ ì—°**í•˜ë‹¤
  * ë¹Œë” í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ê°ì²´ë¥¼ ìˆœíšŒí•˜ë©´ì„œ ë§Œë“¤ ìˆ˜ ìˆìŒ
  * ë¹Œë”ì— ë„˜ê¸°ëŠ” ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆìŒ 
* **ë‹¨ì **
  * ë¹Œë”ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ì•¼í•¨
  * ì ì¸µì  ìƒì„±ì íŒ¨í„´ ë³´ë‹¤ ì½”ë“œê°€ ì¥í™©í•´ì„œ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì•„ì§€ëŠ” ê²½í–¥ì´ ìˆìŒ


### â—ë¹Œë” íŒ¨í„´ì€ ì²˜ë¦¬í•´ì•¼í•  ë§¤ê°œë³€ìˆ˜ê°€ ë§ê³  ë‹¤ìˆ˜ê°€ í•„ìˆ˜ê°€ ì•„ë‹ˆê±°ë‚˜ ê°™ì€ íƒ€ì…ì´ë©´ ë”ìš± í•„ìš”í•˜ë‹¤
